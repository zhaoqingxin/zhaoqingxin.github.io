/*! Copyright(c) AllMobilize/YunShiPei -- Generate the date : 2017-04-25 14:15:49.556 */

/*	AMUI-WIDGET-VERSIONS: 
		list_news: 2.1.0
		titlebar: 3.0.0
		paragraph: 1.0.0
		figure: 1.2.1
		footer: 2.3.1
		navbar: 1.2.0
*/
!function(t,e){function i(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function n(){return S++}function o(t){return t.match(P)[0]}function s(t){for(t=t.replace(D,"/");t.match(L);)t=t.replace(L,"/");return t=t.replace(M,"$1/")}function r(t){var e=t.length-1,i=t.charAt(e);return"#"===i?t.substring(0,e):".js"===t.substring(e-2)||t.indexOf("?")>0||".css"===t.substring(e-3)||"/"===i?t:t+".js"}function a(t){var e=T.alias;return e&&E(e[t])?e[t]:t}function h(t){var e,i=T.paths;return i&&(e=t.match(_))&&E(i[e[1]])&&(t=i[e[1]]+e[2]),t}function l(t){var e=T.vars;return e&&t.indexOf("{")>-1&&(t=t.replace(N,function(t,i){return E(e[i])?e[i]:t})),t}function c(t){var e=T.map,i=t;if(e)for(var n=0,o=e.length;n<o;n++){var s=e[n];if((i=C(s)?s(t)||t:t.replace(s[0],s[1]))!==t)break}return i}function u(t,e){var i,n=t.charAt(0);if(I.test(t))i=t;else if("."===n)i=s((e?o(e):T.cwd)+t);else if("/"===n){var r=T.cwd.match(z);i=r?r[0]+t.substring(1):t}else i=T.base+t;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function d(t,e){if(!t)return"";t=a(t),t=h(t),t=l(t),t=r(t);var i=u(t,e);return i=c(i)}function p(t,e,i){var n=U.test(t),o=O.createElement(n?"link":"script");if(i){var s=C(i)?i(t):i;s&&(o.charset=s)}f(o,e,n,t),n?(o.rel="stylesheet",o.href=t):(o.async=!0,o.src=t),X=o,Y?H.insertBefore(o,Y):H.appendChild(o),X=null}function f(t,e,i,n){function o(){t.onload=t.onerror=t.onreadystatechange=null,i||T.debug||H.removeChild(t),t=null,e()}var s="onload"in t;if(i&&(W||!s))return void setTimeout(function(){m(t,e)},1);s?(t.onload=o,t.onerror=function(){k("error",{uri:n,node:t}),o()}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&o()}}function m(t,e){var i,n=t.sheet;if(W)n&&(i=!0);else if(n)try{n.cssRules&&(i=!0)}catch(t){"NS_ERROR_DOM_SECURITY_ERR"===t.name&&(i=!0)}setTimeout(function(){i?e():m(t,e)},20)}function v(){if(X)return X;if(F&&"interactive"===F.readyState)return F;for(var t=H.getElementsByTagName("script"),e=t.length-1;e>=0;e--){var i=t[e];if("interactive"===i.readyState)return F=i}}function g(t){var e=[];return t.replace(j,"").replace(G,function(t,i,n){n&&e.push(n)}),e}function w(t,e){this.uri=t,this.dependencies=e||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!t.seajs){var y=t.seajs={version:"2.2.0"},T=y.data={},b=i("Object"),E=i("String"),x=Array.isArray||i("Array"),C=i("Function"),S=0,A=T.events={};y.on=function(t,e){return(A[t]||(A[t]=[])).push(e),y},y.off=function(t,e){if(!t&&!e)return A=T.events={},y;var i=A[t];if(i)if(e)for(var n=i.length-1;n>=0;n--)i[n]===e&&i.splice(n,1);else delete A[t];return y};var k=y.emit=function(t,e){var i,n=A[t];if(n)for(n=n.slice();i=n.shift();)i(e);return y},P=/[^?#]*\//,D=/\/\.\//g,L=/\/[^\/]+\/\.\.\//,M=/([^:\/])\/\//g,_=/^([^\/:]+)(\/.+)$/,N=/{([^{]+)}/g,I=/^\/\/.|:\//,z=/^.*?\/\/.*?\//,O=document,R=o(O.URL),q=O.scripts,B=O.getElementById("seajsnode")||q[q.length-1],$=o(function(t){return t.hasAttribute?t.src:t.getAttribute("src",4)}(B)||R);y.resolve=d;var X,F,H=O.getElementsByTagName("head")[0]||O.documentElement,Y=H.getElementsByTagName("base")[0],U=/\.css(?:\?|$)/i,W=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536;y.request=p;var Z,G=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,j=/\\\\/g,V=y.cache={},Q={},K={},J={},tt=w.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};w.prototype.resolve=function(){for(var t=this,e=t.dependencies,i=[],n=0,o=e.length;n<o;n++)i[n]=w.resolve(e[n],t.uri);return i},w.prototype.load=function(){var t=this;if(!(t.status>=tt.LOADING)){t.status=tt.LOADING;var e=t.resolve();k("load",e);for(var i,n=t._remain=e.length,o=0;o<n;o++)i=w.get(e[o]),i.status<tt.LOADED?i._waitings[t.uri]=(i._waitings[t.uri]||0)+1:t._remain--;if(0===t._remain)return void t.onload();var s={};for(o=0;o<n;o++)i=V[e[o]],i.status<tt.FETCHING?i.fetch(s):i.status===tt.SAVED&&i.load();for(var r in s)s.hasOwnProperty(r)&&s[r]()}},w.prototype.onload=function(){var t=this;t.status=tt.LOADED,t.callback&&t.callback();var e,i,n=t._waitings;for(e in n)n.hasOwnProperty(e)&&(i=V[e],i._remain-=n[e],0===i._remain&&i.onload());delete t._waitings,delete t._remain},w.prototype.fetch=function(t){function e(){y.request(s.requestUri,s.onRequest,s.charset)}function i(){delete Q[r],K[r]=!0,Z&&(w.save(o,Z),Z=null);var t,e=J[r];for(delete J[r];t=e.shift();)t.load()}var n=this,o=n.uri;n.status=tt.FETCHING;var s={uri:o};k("fetch",s);var r=s.requestUri||o;return!r||K[r]?void n.load():Q[r]?void J[r].push(n):(Q[r]=!0,J[r]=[n],k("request",s={uri:o,requestUri:r,onRequest:i,charset:T.charset}),void(s.requested||(t?t[s.requestUri]=e:e())))},w.prototype.exec=function(){function t(e){return w.get(t.resolve(e)).exec()}var e=this;if(e.status>=tt.EXECUTING)return e.exports;e.status=tt.EXECUTING;var i=e.uri;t.resolve=function(t){return w.resolve(t,i)},t.async=function(e,o){return w.use(e,o,i+"_async_"+n()),t};var o=e.factory,s=C(o)?o(t,e.exports={},e):o;return void 0===s&&(s=e.exports),delete e.factory,e.exports=s,e.status=tt.EXECUTED,k("exec",e),s},w.resolve=function(t,e){var i={id:t,refUri:e};return k("resolve",i),i.uri||y.resolve(i.id,e)},w.define=function(t,e,i){var n=arguments.length;1===n?(i=t,t=void 0):2===n&&(i=e,x(t)?(e=t,t=void 0):e=void 0),!x(e)&&C(i)&&(e=g(i.toString()));var o={id:t,uri:w.resolve(t),deps:e,factory:i};if(!o.uri&&O.attachEvent){var s=v();s&&(o.uri=s.src)}k("define",o),o.uri?w.save(o.uri,o):Z=o},w.save=function(t,e){var i=w.get(t);i.status<tt.SAVED&&(i.id=e.id||t,i.dependencies=e.deps||[],i.factory=e.factory,i.status=tt.SAVED)},w.get=function(t,e){return V[t]||(V[t]=new w(t,e))},w.use=function(e,i,n){var o=w.get(n,x(e)?e:[e]);o.callback=function(){for(var e=[],n=o.resolve(),s=0,r=n.length;s<r;s++)e[s]=V[n[s]].exec();i&&i.apply(t,e),delete o.callback},o.load()},w.preload=function(t){var e=T.preload,i=e.length;i?w.use(e,function(){e.splice(0,i),w.preload(t)},T.cwd+"_preload_"+n()):t()},y.use=function(t,e){return w.preload(function(){w.use(t,e,T.cwd+"_use_"+n())}),y},w.define.cmd={},t.define=w.define,y.Module=w,T.fetchedList=K,T.cid=n,y.require=function(t){var e=w.get(w.resolve(t));return e.status<tt.EXECUTING&&e.exec(),e.exports};T.base=($.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",$])[1],T.dir=$,T.cwd=R,T.charset="utf-8",T.preload=function(){var t=[],e=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return e+=" "+O.cookie,e.replace(/(seajs-\w+)=1/g,function(e,i){t.push(i)}),t}(),y.config=function(t){for(var e in t){var i=t[e],n=T[e];if(n&&b(n))for(var o in i)n[o]=i[o];else x(n)?i=n.concat(i):"base"===e&&("/"!==i.slice(-1)&&(i+="/"),i=u(i)),T[e]=i}return k("config",t),y}}}(this),define("list_news",function(t,e,i){"use strict";function n(){s(".am-list-news-one").each(function(){o(s(this))})}function o(t){var e=t.find(".am-list");e.children().length>6&&(e.children().each(function(t){t>5&&s(this).hide()}),t.find(".am-list-news-more").remove(),t.append('<a class="am-list-news-more am-btn am-btn-default" href="javascript:;">更多 &gt;&gt;</a>')),t.find(".am-list-news-more").on("click",function(){e.children().show(),s(this).hide()})}var s=window.Zepto;s(function(){n()}),e.init=n}),define("titlebar",function(t,e,i){}),define("paragraph",function(t,e,i){"use strict";function n(){o('[data-am-widget="paragraph"]').each(function(t){var e=o(this),i=s.utils.parseOptions(e.attr("data-am-paragraph")),n=t;i.pureview&&e.pureview(),i.tableScrollable&&e.find("table").each(function(t){o(this).width()>o(window).width()&&o(this).scrollTable(n+"-"+t)})})}t("core"),t("ui.pureview");var o=window.Zepto,s=o.AMUI,r=t("ui.iscroll-lite");o.fn.scrollTable=function(t){var e,i=o(this);i.wrap('<div class="am-paragraph-table-container" id="am-paragraph-table-'+t+'"><div class="am-paragraph-table-scroller"></div></div>'),e=i.parent(),e.width(i.width()),e.height(i.height()),new r("#am-paragraph-table-"+t,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1})},o(window).on("load",function(){n()}),e.init=n}),define("figure",function(t,e,i){"use strict";function n(){o(".am-figure").each(function(t,e){var i=s.utils.parseOptions(o(e).attr("data-am-figure"));if(i.pureview)if("auto"===i.pureview){var n=o.isImgZoomAble(o(e).find("img")[0]);n&&o(e).pureview()}else o(e).addClass("am-figure-zoomable").pureview()})}t("core"),t("ui.pureview");var o=window.Zepto,s=o.AMUI;o.isImgZoomAble=function(t){var e=new Image;e.src=t.src;var i=o(t).width()<e.width;return i&&o(t).closest(".am-figure").addClass("am-figure-zoomable"),i},o(window).on("load",function(){n()}),e.init=n}),define("footer",function(t,e,i){"use strict";function n(){r(".am-footer-ysp").on("click",function(){r("#am-footer-modal").modal()}),r.AMUI.utils.parseOptions(r(".am-footer").data("amFooter")).addToHS&&o(),r('[data-rel="desktop"]').on("click",function(t){t.preventDefault(),window.AMPlatform?window.AMPlatform.util.goDesktop():(s.set("allmobilize","desktop","","/"),window.location=window.location)})}t("core"),t("ui.modal");var o=t("ui.add2home"),s=t("util.cookie"),r=window.Zepto;r(window).on("load",function(){n()}),e.init=n}),define("navbar",function(t,e,i){"use strict";function n(){function t(){c.append(y),c.find("li").not(".am-navbar-more").slice(i()-1).appendTo(w),n.append(w)}function e(){if(i()>=d)return y.hide(),void w.find("li").insertBefore(y);!n.find(".am-navbar-actions").length&&t(),y.show(),c.find("li").length<i()?w.find("li").slice(0,i()-c.find("li").length).insertBefore(y):c.find("li").length>i()&&(w.find("li").length?c.find("li").not(y).slice(i()-1).insertBefore(w.find("li").first()):c.find("li").not(y).slice(i()-1).appendTo(w))}function i(){return Math.floor((h.width()-m)/f)}var n=o('[data-am-widget="navbar"]');if(n.length){var h=o(window),l=o("body"),c=n.find(".am-navbar-nav"),u=n.find("li"),d=u.length,p=c.attr("class")&&parseInt(c.attr("class").match(/sm-block-grid-(\d+)/)[1])||3,f=60,m=16,v=u.filter("[data-am-navbar-share]"),g=u.filter("[data-am-navbar-qrcode]"),w=o('<ul class="am-navbar-actions"></ul>',{id:s.utils.generateGUID("am-navbar-actions")}),y=o('<li class="am-navbar-labels am-navbar-more"><a href="javascript: void(0);"><span class="am-icon-angle-up"></span><span class="am-navbar-label">更多</span></a></li>');if("fixed"==n.css("position")&&l.addClass("am-with-fixed-navbar"),g.length){var T="am-navbar-qrcode";if(E=o("#"+T),!E.length){var b=g.attr("data-am-navbar-qrcode"),E=o('<div class="am-modal am-modal-no-btn" id=""><div class="am-modal-dialog"><div class="am-modal-bd"></div></div></div>',{id:T}),x=E.find(".am-modal-bd");if(b)x.html('<img src="'+b+'"/>');else{var C=new r({render:"canvas",correctLevel:0,text:window.location.href,width:200,height:200,background:"#fff",foreground:"#000"});x.html(C)}l.append(E)}g.on("click",function(t){t.preventDefault(),E.modal()})}d>p&&d>i()&&t(),n.on("click.navbar.amui",".am-navbar-more",function(t){t.preventDefault(),y[w.hasClass("am-active")?"removeClass":"addClass"]("am-active"),w.toggleClass("am-active")}),v.length&&v.on("click.navbar.amui",function(t){t.preventDefault(),a.toggle()}),h.on("resize.navbar.amui orientationchange.navbar.amui",s.utils.debounce(e,150))}}t("core"),t("ui.modal");var o=window.Zepto,s=o.AMUI,r=t("util.qrcode"),a=t("ui.share");o(function(){n()}),e.init=n}),define("core",function(t,e,i){"use strict";function n(t){return t=o(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}t("zepto.extend.fx"),t("zepto.extend.data"),t("zepto.extend.selector");var o=window.Zepto,s=o.AMUI||{},r=o(window),a=window.document,h=t("util.fastclick"),l=o("html");s.support={},s.support.transition=function(){var t=function(){var t,e=a.body||a.documentElement,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}(),s.support.animation=function(){var t=function(){var t,e=a.body||a.documentElement,i={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}(),s.support.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},s.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,s.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,s.utils={},s.utils.debounce=function(t,e,i){var n;return function(){var o=this,s=arguments,r=function(){n=null,i||t.apply(o,s)},a=i&&!n;clearTimeout(n),n=setTimeout(r,e),a&&t.apply(o,s)}},s.utils.isInView=function(t,e){var i=o(t);if(!i.width()&&!i.height()||"none"===i.css("display"))return!1;var n=r.scrollLeft(),s=r.scrollTop(),a=i.offset(),h=a.left,l=a.top;return e=o.extend({topOffset:0,leftOffset:0},e),l+i.height()>=s&&l-e.topOffset<=s+r.height()&&h+i.width()>=n&&h-e.leftOffset<=n+r.width()},s.utils.parseOptions=s.utils.options=function(t){if(o.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,i={};if(e!=-1)try{i=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(t){}return i},s.utils.generateGUID=function(t){var e=t+"-"||"am-";do{e+=Math.random().toString(36).substring(2,7)}while(document.getElementById(e));return e},o.fn.emulateTransitionEnd=function(t){var e=!1,i=this;o(this).one(s.support.transition.end,function(){e=!0});var n=function(){e||o(i).trigger(s.support.transition.end),i.transitionEndTimmer=void 0};return this.transitionEndTimmer=setTimeout(n,t),this},o.fn.redraw=function(){return o(this).each(function(){this.offsetHeight}),this},o.fn.transitionEnd=function(t){function e(o){t.call(this,o),i&&n.off(i,e)}var i=s.support.transition.end,n=this;return t&&i&&n.on(i,e),this},o.fn.removeClassRegEx=function(){return this.each(function(t){var e=o(this).attr("class");if(!e||!t)return!1;var i=[];e=e.split(" ");for(var n=0,s=e.length;n<s;n++)e[n].match(t)||i.push(e[n]);o(this).attr("class",i.join(" "))})},o.fn.alterClass=function(t,e){var i=this;if(t.indexOf("*")===-1)return i.removeClass(t),e?i.addClass(e):i;var n=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each(function(t,e){for(var i=" "+e.className+" ";n.test(i);)i=i.replace(n," ");e.className=o.trim(i)}),e?i.addClass(e):i},o.fn.getHeight=function(){var t=o(this),e="auto";if(t.is(":visible"))e=t.height();else{var i={position:t.css("position"),visibility:t.css("visibility"),display:t.css("display")};e=t.css({position:"absolute",visibility:"hidden",display:"block"}).height(),t.css(i)}return e},o.fn.getSize=function(){var t=o(this);if("none"!==t.css("display"))return{width:t.width(),height:t.height()};var e,i,n={position:t.css("position"),visibility:t.css("visibility"),display:t.css("display")},s={display:"block",position:"absolute",visibility:"hidden"};return t.css(s),e=t.width(),i=t.height(),t.css(n),{width:e,height:i}};var c=o.fn.is,u=o.fn.filter;o.fn.is=function(t){return":visible"===t?n(this):":hidden"===t?!n(this):c.call(this,t)},o.fn.filter=function(t){return":visible"===t?o([].filter.call(this,n)):":hidden"===t?o([].filter.call(this,function(t){return!n(t)})):u.call(this,t)},s.utils.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),s.utils.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}}(),s.utils.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var t=o('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');o(document.body).append(t);var e=t[0].offsetWidth-t[0].clientWidth;return t.remove(),e},s.utils.imageLoader=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}if(!t.attr("src"))return void i();t[0].complete||4===t[0].readyState?i():n.call(t)},s.template=function(t,e){var i=s.template;return i.cache[t]||(i.cache[t]=function(){var e=t,n=/^[\w\-]+$/.test(t)?i.get(t):(e="template(string)",t),o=1,s=("try { "+(i.variable?"var "+i.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+n.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n/g,function(){return"';\nthis.line = "+ ++o+"; this.ret += '\\n"}).replace(/\x11-(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(i.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+e+"' + ' line ' + this.line + ')'; } //@ sourceURL="+e+"\n").replace(/this\.ret \+= '';/g,""),r=new Function(s),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},h=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return a[t]})};return function(t){return r.call(i.context={escapeHTML:h,line:1,ret:"",stash:t})}}()),e?i.cache[t](e):i.cache[t]},s.template.cache={},s.template.get=function(t){if(t){var e=document.getElementById(t);return e&&e.innerHTML||""}},s.support.touch&&(l.addClass("am-touch"),o(function(){h.attach(document.body)})),o(function(){var t=o("body");o(document).trigger("domready:amui"),l.removeClass("no-js").addClass("js"),s.support.animation&&l.addClass("cssanimations"),window.navigator.standalone&&l.addClass("am-standalone"),o(".am-topbar-fixed-top").length&&t.addClass("am-with-topbar-fixed-top"),o(".am-topbar-fixed-bottom").length&&t.addClass("am-with-topbar-fixed-bottom");var e=o(".am-layout");e.find('[class*="md-block-grid"]').alterClass("md-block-grid-*"),e.find('[class*="lg-block-grid"]').alterClass("lg-block-grid"),o("[data-am-widget]").each(function(){var t=o(this);0===t.parents(".am-layout").length&&t.addClass("am-no-layout")})}),o.AMUI=s,i.exports=s}),define("util.fastclick",function(t,e,i){"use strict";function n(t,e){var i;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!n.notNeeded(t)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,a=0,h=s.length;a<h;a++)r[s[a]]=function(t,e){return function(){return t.apply(e,arguments)}}(r[s[a]],r);o&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null)}}var o=(window.Zepto,navigator.userAgent.indexOf("Android")>0),s=/iP(ad|hone|od)/.test(navigator.userAgent),r=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=s&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},n.prototype.determineEventType=function(t){return o&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){var e;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],s){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!r){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},n.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){var e,i,n,h,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=t.changedTouches[0],c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=c.tagName.toLowerCase())){if(e=this.findControl(c)){if(this.focus(c),o)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-i>100||s&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),s&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return!(!s||r||!(h=c.fastClickScrollParent)||h.fastClickLastScrollTop===h.scrollTop)||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){var t=this.layer;o&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction},n.attach=function(t,e){return new n(t,e)},i.exports=n}),define("ui.pureview",function(t,e,i){"use strict";function n(t){return this.each(function(){var e=r(this),i=e.data("am.pureview"),n=r.extend({},a.utils.parseOptions(e.data("amPureview")),"object"==typeof t&&t);i||e.data("am.pureview",i=new c(this,n)),"string"==typeof t&&i[t]()})}t("core");var o=t("zepto.pinchzoom"),s=t("util.hammer"),r=window.Zepto,a=r.AMUI,h=a.support.animation,l=a.support.transition,c=function(t,e){this.$element=r(t),this.$body=r(document.body),this.options=r.extend({},c.DEFAULTS,e),this.$pureview=r(this.options.tpl,{id:a.utils.generateGUID("am-pureview")}),this.$slides=null,this.transitioning=null,this.scrollbarWidth=0,this.init()};c.DEFAULTS={tpl:'<div class="am-pureview am-pureview-bar-active"><ul class="am-pureview-slider"></ul><ul class="am-pureview-direction"><li class="am-pureview-prev"><a href=""></a></li><li class="am-pureview-next"><a href=""></a></li></ul><ol class="am-pureview-nav"></ol><div class="am-pureview-bar am-active"><span class="am-pureview-title"></span><div class="am-pureview-counter">  <span class="am-pureview-current"></span> /   <span class="am-pureview-total"></span></div></div><div class="am-pureview-actions am-active"><a href="javascript: void(0)" class="am-icon-chevron-left" data-am-close="pureview"></a></div></div>',className:{prevSlide:"am-pureview-slide-prev",nextSlide:"am-pureview-slide-next",onlyOne:"am-pureview-only",active:"am-active",barActive:"am-pureview-bar-active",activeBody:"am-pureview-active"},selector:{slider:".am-pureview-slider",close:'[data-am-close="pureview"]',total:".am-pureview-total",current:".am-pureview-current",title:".am-pureview-title",actions:".am-pureview-actions",bar:".am-pureview-bar",pinchZoom:".am-pinch-zoom",nav:".am-pureview-nav"},shareBtn:!1,target:"img",weChatImagePreview:!0},c.prototype.init=function(){var t=this,e=this.options,i=this.$element,n=this.$pureview;this.refreshSlides(),r("body").append(n),this.$title=n.find(e.selector.title),this.$current=n.find(e.selector.current),this.$bar=n.find(e.selector.bar),this.$actions=n.find(e.selector.actions),e.shareBtn&&this.$actions.append('<a href="javascript: void(0)" class="am-icon-share-square-o" data-am-toggle="share"></a>'),this.$element.on("click.pureview.amui",e.target,function(i){i.preventDefault();var n=t.$images.index(this);e.weChatImagePreview&&window.WeixinJSBridge?window.WeixinJSBridge.invoke("imagePreview",{current:t.imgUrls[n],urls:t.imgUrls}):t.open(n)}),n.find(".am-pureview-direction").on("click.direction.pureview.amui","li",function(e){e.preventDefault(),r(this).is(".am-pureview-prev")?t.prevSlide():t.nextSlide()}),n.find(e.selector.nav).on("click.nav.pureview.amui","li",function(){var e=t.$navItems.index(r(this));t.activate(t.$slides.eq(e))}),n.find(e.selector.close).on("click.close.pureview.amui",function(e){e.preventDefault(),t.close()}),this.$slider.hammer().on("press.pureview.amui",function(e){e.preventDefault(),t.toggleToolBar()}).on("swipeleft.pureview.amui",function(e){e.preventDefault(),t.nextSlide()}).on("swiperight.pureview.amui",function(e){e.preventDefault(),t.prevSlide()}),this.$slider.data("hammer").get("swipe").set({direction:s.DIRECTION_HORIZONTAL,velocity:.35}),i.on("changed:dom:amui",r.proxy(this.refreshSlides,t)),r(document).on("keydown.pureview.amui",r.proxy(function(t){var e=t.keyCode;37==e?this.prevSlide():39==e?this.nextSlide():27==e&&this.close()},this))},c.prototype.refreshSlides=function(){this.$images=this.$element.find(this.options.target);var t=this,e=this.options,i=this.$pureview,n=r([]),o=r([]),s=this.$images,a=s.length;this.$slider=i.find(e.selector.slider),this.$nav=i.find(e.selector.nav),this.imgUrls=[];a&&(1===a&&i.addClass(e.className.onlyOne),s.not("[data-am-pureviewed]").each(function(e,i){var s,a;"A"===i.nodeName?(s=i.href,a=i.title||""):(s=r(i).data("rel")||i.src,a=r(i).attr("alt")||""),i.setAttribute("data-am-pureviewed","1"),t.imgUrls.push(s),n=n.add(r('<li data-src="'+s+'" data-title="'+a+'"></li>')),o=o.add(r("<li>"+(e+1)+"</li>"))}),i.find(e.selector.total).text(a),this.$slider.append(n),this.$nav.append(o),this.$navItems=this.$nav.find("li"),this.$slides=this.$slider.find("li"))},c.prototype.loadImage=function(t,e){if(!t.data("image-appended")){var i=r("<img>",{src:t.data("src"),alt:t.data("title")});t.html(i).wrapInner('<div class="am-pinch-zoom"></div>').redraw();var n=t.find(this.options.selector.pinchZoom);n.data("amui.pinchzoom",new o(n[0],{})),t.data("image-appended",!0)}e&&e.call(this)},c.prototype.activate=function(t){var e=this.options,i=this.$slides,n=i.index(t),o=t.data("title")||"",s=e.className.active;i.find("."+s).is(t)||this.transitioning||(this.loadImage(t,function(){a.utils.imageLoader(t.find("img"),function(t){r(t).addClass("am-img-loaded")})}),this.transitioning=1,this.$title.text(o),this.$current.text(n+1),i.removeClass(),t.addClass(s),i.eq(n-1).addClass(e.className.prevSlide),i.eq(n+1).addClass(e.className.nextSlide),this.$navItems.removeClass().eq(n).addClass(e.className.active),l?t.one(l.end,r.proxy(function(){this.transitioning=0},this)).emulateTransitionEnd(300):this.transitioning=0)},c.prototype.nextSlide=function(){if(1!==this.$slides.length){var t=this.$slides,e=t.filter(".am-active"),i=t.index(e);i+1>=t.length?h&&e.addClass("am-animation-right-spring").on(h.end,function(){e.removeClass("am-animation-right-spring")}):this.activate(t.eq(i+1))}},c.prototype.prevSlide=function(){if(1!==this.$slides.length){var t=this.$slides,e=t.filter(".am-active"),i=this.$slides.index(e);0===i?h&&e.addClass("am-animation-left-spring").on(h.end,function(){e.removeClass("am-animation-left-spring")}):this.activate(t.eq(i-1))}},c.prototype.toggleToolBar=function(){this.$pureview.toggleClass(this.options.className.barActive)},c.prototype.open=function(t){var e=t||0;this.$pureview.show().redraw(),this.checkScrollbar(),this.setScrollbar(),this.activate(this.$slides.eq(e)),this.$pureview.addClass(this.options.className.active),this.$body.addClass(this.options.className.activeBody)},c.prototype.close=function(){function t(){this.$pureview.hide(),this.$body.removeClass(e.className.activeBody),this.resetScrollbar()}var e=this.options;this.$pureview.removeClass(e.className.active),this.$slides.removeClass(),l?this.$pureview.one(l.end,r.proxy(t,this)).emulateTransitionEnd(300):t.call(this)},c.prototype.checkScrollbar=function(){
this.scrollbarWidth=a.utils.measureScrollbar()},c.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},r.fn.pureview=n,r(function(){r("[data-am-pureview]").pureview()}),a.pureview=c,i.exports=c}),define("ui.iscroll-lite",function(t,e,i){"use strict";function n(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var o=window.Zepto,s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},r=function(){function t(t){return n!==!1&&(""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1))}var e={},i=document.createElement("div").style,n=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,n=t.length;e<n;e++)if(t[e]+"ransform"in i)return t[e].substr(0,t[e].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(t,e){for(var i in e)t[i]=e[i]},e.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},e.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},e.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},e.momentum=function(t,e,i,n,o,s){var r,a,h=t-e,l=Math.abs(h)/i;return s=void 0===s?6e-4:s,r=t+l*l/(2*s)*(h<0?-1:1),a=l/s,r<n?(r=o?n-o/2.5*(l/8):n,h=Math.abs(r-t),a=h/l):r>0&&(r=o?o/2.5*(l/8):0,h=Math.abs(t)+r,a=h/l),{destination:Math.round(r),duration:a}};var o=t("transform");return e.extend(e,{hasTransform:o!==!1,hasPerspective:t("perspective")in i,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:t("transition")in i}),e.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),e.extend(e.style={},{transform:o,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),e.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},e.addClass=function(t,i){if(!e.hasClass(t,i)){var n=t.className.split(" ");n.push(i),t.className=n.join(" ")}},e.removeClass=function(t,i){if(e.hasClass(t,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(n," ")}},e.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},e.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*Math.pow(2,-10*t)*Math.sin((t-.055)*(2*Math.PI)/.22)+1}}}),e.tap=function(t,e){var i=document.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},e.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},e}();n.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==r.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||r.eventType[t.type]===this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=r.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(Math.round(e.x),Math.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,o,s=t.touches?t.touches[0]:t,a=s.pageX-this.pointX,h=s.pageY-this.pointY,l=r.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=a,this.distY+=h,n=Math.abs(this.distX),o=Math.abs(this.distY),!(l-this.endTime>300&&n<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(n>o+this.options.directionLockThreshold?this.directionLocked="h":o>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,h=this.hasVerticalScroll?h:0,e=this.x+a,i=this.y+h,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+h/3:i>0?0:this.maxScrollY),this.directionX=a>0?-1:a<0?1:0,this.directionY=h>0?-1:h<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches&&t.changedTouches[0],r.getTime()-this.startTime),o=Math.round(this.x),s=Math.round(this.y),a=Math.abs(o-this.startX),h=Math.abs(s-this.startY),l=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),!this.moved)return this.options.tap&&r.tap(t,this.options.tap),this.options.click&&r.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&a<100&&h<100)return void this._execEvent("flick");if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?r.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?r.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=e.destination,s=i.destination,l=Math.max(e.duration,i.duration),this.isInTransition=1),o!=this.x||s!=this.y)return(o>0||o<this.maxScrollX||s>0||s<this.maxScrollY)&&(c=r.ease.quadratic),void this.scrollTo(o,s,l,c);this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||r.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=r.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,i===!0&&(i=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=n||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?Math.max(Math.abs(this.x-s.left),Math.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,o)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[r.style.transitionDuration]=t+"ms",!t&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(t){this.scrollerStyle[r.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(t){var e=t?r.removeEvent:r.addEvent,i=this.options.bindToWrapper?this.wrapper:window;e(window,"orientationchange",this),e(window,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,r.prefixPointerEvent("pointerdown"),this),e(i,r.prefixPointerEvent("pointermove"),this),e(i,r.prefixPointerEvent("pointercancel"),this),e(i,r.prefixPointerEvent("pointerup"),this)),r.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[r.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_animate:function(t,e,i,n){function o(){var d,p,f,m=r.getTime();if(m>=u)return a.isAnimating=!1,a._translate(t,e),void(a.resetPosition(a.options.bounceTime)||a._execEvent("scrollEnd"));m=(m-c)/i,f=n(m),d=(t-h)*f+h,p=(e-l)*f+l,a._translate(d,p),a.isAnimating&&s(o)}var a=this,h=this.x,l=this.y,c=r.getTime(),u=c+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},n.utils=r,o.AMUI&&(o.AMUI.iScroll=n),i.exports=n}),define("ui.modal",function(t,e,i){"use strict";function n(t,e){return this.each(function(){var i=s(this),n=i.data("am.modal"),o=s.extend({},l.DEFAULTS,"object"==typeof t&&t);n||i.data("am.modal",n=new l(this,o)),"string"==typeof t?n[t](e):n.toggle(t&&t.relatedElement||void 0)})}t("core");var o=t("ui.dimmer"),s=window.Zepto,r=s.AMUI,a=s(document),h=r.support.transition,l=function(t,e){this.options=s.extend({},l.DEFAULTS,e||{}),this.$element=s(t),this.$element.attr("id")||this.$element.attr("id",r.utils.generateGUID("am-modal")),this.isPopup=this.$element.hasClass("am-popup"),this.active=this.transitioning=null,this.events()};l.DEFAULTS={className:{active:"am-modal-active",out:"am-modal-out"},selector:{modal:".am-modal",active:".am-modal-active"},cancelable:!0,onConfirm:function(){},onCancel:function(){},duration:300,transitionEnd:h.end&&h.end+".modal.amui"},l.prototype.toggle=function(t){return this.active?this.close():this.open(t)},l.prototype.open=function(t){var e=this.$element,i=this.options,n=this.isPopup;if(!this.active&&this.$element.length){this.transitioning&&(clearTimeout(e.transitionEndTimmer),e.transitionEndTimmer=null,e.trigger(i.transitionEnd).off(i.transitionEnd)),n&&this.$element.show(),this.active=!0,e.trigger(s.Event("open:modal:amui",{relatedElement:t})),o.open(e),e.show().redraw(),!n&&e.css({marginTop:-parseFloat(e.css("height"))/2+"px"}),e.removeClass(i.className.out).addClass(i.className.active),this.transitioning=1;var r=function(){e.trigger(s.Event("opened:modal:amui",{relatedElement:t})),this.transitioning=0};if(!h)return r.call(this);e.one(i.transitionEnd,s.proxy(r,this)).emulateTransitionEnd(i.duration)}},l.prototype.close=function(t){if(this.active){var e=this.$element,i=this.options,n=this.isPopup;this.transitioning&&(clearTimeout(e.transitionEndTimmer),e.transitionEndTimmer=null,e.trigger(i.transitionEnd).off(i.transitionEnd),o.close(e,!0)),this.$element.trigger(s.Event("close:modal:amui",{relatedElement:t})),this.transitioning=1;var r=function(){e.trigger("closed:modal:amui"),n&&e.removeClass(i.className.out),e.hide(),this.transitioning=0};if(e.removeClass(i.className.active).addClass(i.className.out),!h)return r.call(this);e.one(i.transitionEnd,s.proxy(r,this)).emulateTransitionEnd(i.duration),o.close(e,!1),this.active=!1}},l.prototype.events=function(){var t=this,e=this.$element,i=e.find(".am-modal-prompt-input");this.options.cancelable&&(e.on("keyup.modal.amui",s.proxy(function(t){this.active&&27===t.which&&(this.options.onCancel(),this.close())},t)),o.$element.on("click",function(e){t.close()})),e.find("[data-am-modal-close]").on("click.modal.amui",function(e){e.preventDefault(),t.close()}),e.find(".am-modal-btn").on("click.modal.amui",function(e){t.close()}),e.find("[data-am-modal-confirm]").on("click.modal.amui",function(){t.options.onConfirm(i.val())}),e.find("[data-am-modal-cancel]").on("click.modal.amui",function(){t.options.onCancel(i.val())})},s.fn.modal=n,a.on("click","[data-am-modal]",function(){var t=s(this),e=r.utils.parseOptions(t.attr("data-am-modal")),i=s(e.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("am.modal")?"toggle":e;n.call(i,o,this)}),r.modal=l,i.exports=l}),define("ui.add2home",function(t,e,i){"use strict";function n(){window.removeEventListener("load",n,!1),h=!0}function o(t){return l=l||new o.Class(t)}function s(t,e){for(var i in e)t[i]=e[i];return t}function r(){"#ath"==document.location.hash&&history.replaceState("",window.document.title,document.location.href.split("#")[0]),c.test(document.location.href)&&history.replaceState("",window.document.title,document.location.href.replace(c,"$1")),u.test(document.location.search)&&history.replaceState("",window.document.title,document.location.href.replace(u,"$2"))}var a=window.Zepto,h=!1;"complete"===document.readyState?h=!0:window.addEventListener("load",n,!1);var l,c=/\/ath(\/)?$/,u=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;o.intl={en_us:{message:"To add this web app to the home screen: tap %icon and then <strong>%action</strong>.",action:{ios:"Add to Home Screen",android:"Add to homescreen",windows:"pin to start"}},zh_cn:{message:"如要把应用程式加至主屏幕,请点击%icon, 然后<strong>%action</strong>",action:{ios:"加至主屏幕",android:"加至主屏幕",windows:"按住启动"}},zh_tw:{message:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>%action</strong>.",action:{ios:"加至主屏幕",android:"加至主屏幕",windows:"按住啟動"}}};for(var d in o.intl)o.intl[d.substr(0,2)]=o.intl[d];o.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,detectHomescreen:!1};var p=window.navigator.userAgent,f=window.navigator;s(o,{hasToken:"#ath"==document.location.hash||c.test(document.location.href)||u.test(document.location.search),isRetina:window.devicePixelRatio&&window.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(p),isMobileChrome:p.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(p),isMobileIE:p.indexOf("Windows Phone")>-1,language:f.language&&f.language.toLowerCase().replace("-","_")||""}),o.language=o.language&&o.language in o.intl?o.language:"en_us",o.isMobileSafari=o.isIDevice&&p.indexOf("Safari")>-1&&p.indexOf("CriOS")<0,o.OS=o.isIDevice?"ios":o.isMobileChrome?"android":o.isMobileIE?"windows":"unsupported",o.OSVersion=p.match(/(OS|Android) (\d+[_\.]\d+)/),o.OSVersion=o.OSVersion&&o.OSVersion[2]?+o.OSVersion[2].replace("_","."):0,o.isStandalone=window.navigator.standalone||o.isMobileChrome&&screen.height-document.documentElement.clientHeight<40,o.isTablet=o.isMobileSafari&&p.indexOf("iPad")>-1||o.isMobileChrome&&p.indexOf("Mobile")<0,o.isCompatible=o.isMobileSafari&&o.OSVersion>=6||o.isMobileChrome;var m={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};o.removeSession=function(t){try{localStorage.removeItem(t||o.defaults.appID)}catch(t){}},o.Class=function(t){if(this.options=s({},o.defaults),s(this.options,t),this.options.mandatory=this.options.mandatory&&("standalone"in window.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(o.isCompatible=!0,o.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==o.OS?"android":o.OS,o.OSVersion="ios"==o.OS?"8":"4"),this.container=document.documentElement,this.session=localStorage.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!o.hasToken||o.isCompatible&&this.session||(o.hasToken=!1,r()),o.isCompatible){this.session=this.session||m;try{localStorage.setItem(this.options.appID,JSON.stringify(this.session)),o.hasLocalStorage=!0}catch(t){o.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var e=!this.options.validLocation.length,i=this.options.validLocation.length;i--;)if(this.options.validLocation[i].test(document.location.href)){e=!0;break}if(localStorage.getItem("addToHome")&&this.optOut(),!this.session.optedout&&!this.session.added&&e){if(o.isStandalone)return void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)));if(this.options.detectHomescreen){if(o.hasToken)return r(),void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)));"hash"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",window.document.title,document.location.href+(document.location.search?"&":"?")+"ath=")}!this.session.returningVisitor&&(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit)||o.hasLocalStorage&&(this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&this.show())}}},o.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var e=this.events[t.type];e&&this[e](t)},show:function(t){if(this.options.autostart&&!h)return void setTimeout(this.show.bind(this),50);if(!this.shown){var e=Date.now(),i=this.session.lastDisplayTime;if(t!==!0){if(!this.ready)return;if(e-i<6e4*this.options.displayPace)return;if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return}this.shown=!0,this.session.lastDisplayTime=e,this.session.displayCount++,this.updateSession(),this.applicationIcon||("ios"==o.OS?this.applicationIcon=document.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):this.applicationIcon=document.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var n="";n=this.options.message in o.intl?o.intl[this.options.message].message.replace("%action",o.intl[this.options.message].action[o.OS]):""!==this.options.message?this.options.message:o.intl[o.language].message.replace("%action",o.intl[o.language].action[o.OS]),n="<p>"+n.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",this.viewport=document.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=document.createElement("div"),this.element.className="ath-container ath-"+o.OS+" ath-"+o.OS+(o.OSVersion+"").substr(0,1)+" ath-"+(o.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);transition-property:transform,opacity;transition-duration:0;transform:translate3d(0,0,0);-webkit-transition-timing-function:ease-out",this.element.style.webkitTransform="translate3d(0,-"+window.innerHeight+"px,0)",this.element.style.webkitTransitionDuration="0s",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=document.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=n,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img||this._delayedShow()}},_delayedShow:function(t){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var t=this;this.updateViewport(),window.addEventListener("resize",this,!1),window.addEventListener("scroll",this,!1),window.addEventListener("orientationchange",this,!1),this.options.modal&&document.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){t.element.addEventListener("click",t,!0)},1e3),setTimeout(function(){t.element.style.webkitTransform="translate3d(0,0,0)",t.element.style.webkitTransitionDuration="1.2s"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),window.removeEventListener("resize",this,!1),window.removeEventListener("scroll",this,!1),window.removeEventListener("orientationchange",this,!1),document.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=window.innerWidth+"px",this.viewport.style.height=window.innerHeight+"px",this.viewport.style.left=window.scrollX+"px",this.viewport.style.top=window.scrollY+"px";var t=document.documentElement.clientWidth;this.orientation=t>document.documentElement.clientHeight?"landscape":"portrait";var e="ios"==o.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>t?1:e/window.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){o.hasLocalStorage!==!1&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=m,this.updateSession()},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(t){t.preventDefault(),t.stopPropagation()}},a.AMUI.addToHomescreen=o,i.exports=o}),define("util.cookie",function(t,e,i){"use strict";t("core");var n=window.Zepto,o=n.AMUI,s={get:function(t){var e,i=encodeURIComponent(t)+"=",n=document.cookie.indexOf(i),o=null;return n>-1&&(e=document.cookie.indexOf(";",n),e==-1&&(e=document.cookie.length),o=decodeURIComponent(document.cookie.substring(n+i.length,e))),o},set:function(t,e,i,n,o,s){var r=encodeURIComponent(t)+"="+encodeURIComponent(e);i instanceof Date&&(r+="; expires="+i.toGMTString()),n&&(r+="; path="+n),o&&(r+="; domain="+o),s&&(r+="; secure"),document.cookie=r},unset:function(t,e,i,n){this.set(t,"",new Date(0),e,i,n)}};o.utils.cookie=s,i.exports=s}),define("util.qrcode",function(t,e,i){function n(t){return t<128?[t]:t<2048?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function o(t){for(var e=[],i=0;i<t.length;i++)for(var o=t.charCodeAt(i),s=n(o),r=0;r<s.length;r++)e.push(s[r]);return e}function s(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=o(t),this.make()}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function a(){this.buffer=new Array,this.length=0}function n(t){return t<128?[t]:t<2048?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function o(t){for(var e=[],i=0;i<t.length;i++)for(var o=t.charCodeAt(i),s=n(o),r=0;r<s.length;r++)e.push(s[r]);return e}function s(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=o(t),this.make()}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function a(){this.buffer=new Array,this.length=0}var h=Zepto,c=[],u=function(t){"string"==typeof t&&(t={text:t}),this.options=h.extend({},{text:"",render:"",width:256,height:256,correctLevel:3,background:"#ffffff",foreground:"#000000"},t);for(var e=null,i=0,n=c.length;i<n;i++)if(c[i].text==this.options.text&&c[i].text.correctLevel==this.options.correctLevel){e=c[i].obj;break}if(i==n&&(e=new s(this.options.text,this.options.correctLevel),c.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};u.prototype.createDefault=function(t){return document.createElement("canvas").getContext?this.createCanvas(t):document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect?this.createSVG(t):this.createTable(t)},u.prototype.createCanvas=function(t){var e=document.createElement("canvas");e.width=this.options.width,e.height=this.options.height
;for(var i=e.getContext("2d"),n=(this.options.width/t.getModuleCount()).toPrecision(4),o=this.options.height/t.getModuleCount().toPrecision(4),s=0;s<t.getModuleCount();s++)for(var r=0;r<t.getModuleCount();r++){i.fillStyle=t.modules[s][r]?this.options.foreground:this.options.background;var a=Math.ceil((r+1)*n)-Math.floor(r*n),h=Math.ceil((s+1)*n)-Math.floor(s*n);i.fillRect(Math.round(r*n),Math.round(s*o),a,h)}return e},u.prototype.createTable=function(t){var e=[];e.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color: '+this.options.background+';">');var i=-1,n=-1,o=-1,s=-1;i=o=Math.floor(this.options.width/t.getModuleCount()),n=s=Math.floor(this.options.height/t.getModuleCount()),o<=0&&(i=t.getModuleCount()<80?2:1),s<=0&&(n=t.getModuleCount()<80?2:1),foreTd='<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color: "+this.options.foreground+'"></td>',backTd='<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color: "+this.options.background+'"></td>',l=t.getModuleCount();for(var r=0;r<l;r++){e.push('<tr style="border:0px; margin:0px; padding:0px; height: '+n+'px">');for(var a=0;a<l;a++)e.push(t.modules[r][a]?foreTd:backTd);e.push("</tr>")}e.push("</table>");var h=document.createElement("span");return h.innerHTML=e.join(""),h.firstChild},u.prototype.createSVG=function(t){for(var e,i,n,o,s=t.getModuleCount(),r=this.options.height/this.options.width,a='<svg xmlns="http://www.w3.org/2000/svg" width="'+this.options.width+'px" height="'+this.options.height+'px" viewbox="0 0 '+10*s+" "+10*s*r+'">',l=' style="stroke-width:0.5;stroke:'+this.options.foreground+";fill:"+this.options.foreground+';"></path>',c=' style="stroke-width:0.5;stroke:'+this.options.background+";fill:"+this.options.background+';"></path>',u=0;u<s;u++)for(var d=0;d<s;d++)e=10*d,n=10*u*r,i=10*(d+1),o=10*(u+1)*r,a+='<path d="M '+e+","+n+" L "+i+","+n+" L "+i+","+o+" L "+e+","+o+' Z"',a+=t.modules[u][d]?l:c;return a+="</svg>",h(a)[0]},i.exports=u,h.AMUI.qrcode=u,s.prototype={constructor:s,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},createQrcode:function(){for(var t=0,e=0,i=null,n=0;n<8;n++){this.makeImpl(n);var o=f.getLostPoint(this);(0==n||t>o)&&(t=o,e=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var s=-2;s<=2;s++)for(var r=-2;r<=2;r++)this.modules[n+s][o+r]=s==-2||2==s||r==-2||2==r||0==s&&0==r}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=d[this.errorCorrectLevel]<<3|e,n=f.getBCHTypeInfo(i),o=0;o<15;o++){var s=!t&&1==(n>>o&1);o<6?this.modules[o][8]=s:o<8?this.modules[o+1][8]=s:this.modules[this.moduleCount-15+o][8]=s;var s=!t&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=s:o<9?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new a,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;i<n;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(s.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(s.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,n=0,o=this.rsBlock.length/3,s=new Array,a=0;a<o;a++)for(var h=this.rsBlock[3*a+0],l=this.rsBlock[3*a+1],c=this.rsBlock[3*a+2],u=0;u<h;u++)s.push([c,l]);for(var d=new Array(s.length),p=new Array(s.length),m=0;m<s.length;m++){var v=s[m][0],g=s[m][1]-v;i=Math.max(i,v),n=Math.max(n,g),d[m]=new Array(v);for(var a=0;a<d[m].length;a++)d[m][a]=255&t.buffer[a+e];e+=v;var w=f.getErrorCorrectPolynomial(g),y=new r(d[m],w.getLength()-1),T=y.mod(w);p[m]=new Array(w.getLength()-1);for(var a=0;a<p[m].length;a++){var b=a+T.getLength()-p[m].length;p[m][a]=b>=0?T.get(b):0}}for(var E=new Array(this.totalDataCount),x=0,a=0;a<i;a++)for(var m=0;m<s.length;m++)a<d[m].length&&(E[x++]=d[m][a]);for(var a=0;a<n;a++)for(var m=0;m<s.length;m++)a<p[m].length&&(E[x++]=p[m][a]);return E},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var a=0;a<2;a++)if(null==this.modules[n][r-a]){var h=!1;s<t.length&&(h=1==(t[s]>>>o&1));var l=f.getMask(e,n,r-a);l&&(h=!h),this.modules[n][r-a]=h,o--,o==-1&&(s++,o=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}},s.PAD0=236,s.PAD1=17;for(var d=[1,0,3,2],p={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case p.PATTERN000:return(e+i)%2==0;case p.PATTERN001:return e%2==0;case p.PATTERN010:return i%3==0;case p.PATTERN011:return(e+i)%3==0;case p.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case p.PATTERN101:return e*i%2+e*i%3==0;case p.PATTERN110:return(e*i%2+e*i%3)%2==0;case p.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),i=0;i<t;i++)e=e.multiply(new r([1,m.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0,o=0;o<e;o++)for(var s=0,r=t.modules[o][0],a=0;a<e;a++){var h=t.modules[o][a];if(a<e-6&&h&&!t.modules[o][a+1]&&t.modules[o][a+2]&&t.modules[o][a+3]&&t.modules[o][a+4]&&!t.modules[o][a+5]&&t.modules[o][a+6]&&(a<e-10?t.modules[o][a+7]&&t.modules[o][a+8]&&t.modules[o][a+9]&&t.modules[o][a+10]&&(i+=40):a>3&&t.modules[o][a-1]&&t.modules[o][a-2]&&t.modules[o][a-3]&&t.modules[o][a-4]&&(i+=40)),o<e-1&&a<e-1){var l=0;h&&l++,t.modules[o+1][a]&&l++,t.modules[o][a+1]&&l++,t.modules[o+1][a+1]&&l++,0!=l&&4!=l||(i+=3)}r^h?s++:(r=h,s>=5&&(i+=3+s-5),s=1),h&&n++}for(var a=0;a<e;a++)for(var s=0,r=t.modules[0][a],o=0;o<e;o++){var h=t.modules[o][a];o<e-6&&h&&!t.modules[o+1][a]&&t.modules[o+2][a]&&t.modules[o+3][a]&&t.modules[o+4][a]&&!t.modules[o+5][a]&&t.modules[o+6][a]&&(o<e-10?t.modules[o+7][a]&&t.modules[o+8][a]&&t.modules[o+9][a]&&t.modules[o+10][a]&&(i+=40):o>3&&t.modules[o-1][a]&&t.modules[o-2][a]&&t.modules[o-3][a]&&t.modules[o-4][a]&&(i+=40)),r^h?s++:(r=h,s>=5&&(i+=3+s-5),s=1)}return i+=Math.abs(100*n/e/e-50)/5*10}},m={glog:function(t){if(t<1)throw new Error("glog("+t+")");return m.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return m.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)m.EXP_TABLE[v]=1<<v;for(var v=8;v<256;v++)m.EXP_TABLE[v]=m.EXP_TABLE[v-4]^m.EXP_TABLE[v-5]^m.EXP_TABLE[v-6]^m.EXP_TABLE[v-8];for(var v=0;v<255;v++)m.LOG_TABLE[m.EXP_TABLE[v]]=v;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=m.gexp(m.glog(this.get(i))+m.glog(t.get(n)));return new r(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(e-i<0)return this;for(var n=new Array(e),o=0;o<e;o++)n[o]=this.get(o);for(;n.length>=i;){for(var s=m.glog(n[0])-m.glog(t.get(0)),o=0;o<t.getLength();o++)n[o]^=m.gexp(m.glog(t.get(o))+s);for(;0==n[0];)n.shift()}return new r(n,0)}};var g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];s.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=g[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,n=0,o=0;o<i;o++){var s=e[3*o+0];n+=e[3*o+2]*s}var r=t>9?2:1;if(this.utf8bytes.length+r<n||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=n;break}}},a.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;i<e;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},s.prototype={constructor:s,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},createQrcode:function(){for(var t=0,e=0,i=null,n=0;n<8;n++){this.makeImpl(n);var o=f.getLostPoint(this);(0==n||t>o)&&(t=o,e=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var s=-2;s<=2;s++)for(var r=-2;r<=2;r++)this.modules[n+s][o+r]=s==-2||2==s||r==-2||2==r||0==s&&0==r}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=d[this.errorCorrectLevel]<<3|e,n=f.getBCHTypeInfo(i),o=0;o<15;o++){var s=!t&&1==(n>>o&1);o<6?this.modules[o][8]=s:o<8?this.modules[o+1][8]=s:this.modules[this.moduleCount-15+o][8]=s;var s=!t&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=s:o<9?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new a,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;i<n;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(s.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(s.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,n=0,o=this.rsBlock.length/3,s=new Array,a=0;a<o;a++)for(var h=this.rsBlock[3*a+0],l=this.rsBlock[3*a+1],c=this.rsBlock[3*a+2],u=0;u<h;u++)s.push([c,l]);for(var d=new Array(s.length),p=new Array(s.length),m=0;m<s.length;m++){var v=s[m][0],g=s[m][1]-v;i=Math.max(i,v),n=Math.max(n,g),d[m]=new Array(v);for(var a=0;a<d[m].length;a++)d[m][a]=255&t.buffer[a+e];e+=v;var w=f.getErrorCorrectPolynomial(g),y=new r(d[m],w.getLength()-1),T=y.mod(w);p[m]=new Array(w.getLength()-1);for(var a=0;a<p[m].length;a++){var b=a+T.getLength()-p[m].length;p[m][a]=b>=0?T.get(b):0}}for(var E=new Array(this.totalDataCount),x=0,a=0;a<i;a++)for(var m=0;m<s.length;m++)a<d[m].length&&(E[x++]=d[m][a]);for(var a=0;a<n;a++)for(var m=0;m<s.length;m++)a<p[m].length&&(E[x++]=p[m][a]);return E},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var a=0;a<2;a++)if(null==this.modules[n][r-a]){var h=!1;s<t.length&&(h=1==(t[s]>>>o&1));var l=f.getMask(e,n,r-a);l&&(h=!h),this.modules[n][r-a]=h,o--,o==-1&&(s++,o=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}},s.PAD0=236,s.PAD1=17;for(var d=[1,0,3,2],p={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case p.PATTERN000:return(e+i)%2==0;case p.PATTERN001:return e%2==0;case p.PATTERN010:return i%3==0;case p.PATTERN011:return(e+i)%3==0;case p.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case p.PATTERN101:return e*i%2+e*i%3==0;case p.PATTERN110:return(e*i%2+e*i%3)%2==0;case p.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),i=0;i<t;i++)e=e.multiply(new r([1,m.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0,o=0;o<e;o++)for(var s=0,r=t.modules[o][0],a=0;a<e;a++){var h=t.modules[o][a];if(a<e-6&&h&&!t.modules[o][a+1]&&t.modules[o][a+2]&&t.modules[o][a+3]&&t.modules[o][a+4]&&!t.modules[o][a+5]&&t.modules[o][a+6]&&(a<e-10?t.modules[o][a+7]&&t.modules[o][a+8]&&t.modules[o][a+9]&&t.modules[o][a+10]&&(i+=40):a>3&&t.modules[o][a-1]&&t.modules[o][a-2]&&t.modules[o][a-3]&&t.modules[o][a-4]&&(i+=40)),o<e-1&&a<e-1){var l=0;h&&l++,t.modules[o+1][a]&&l++,t.modules[o][a+1]&&l++,t.modules[o+1][a+1]&&l++,0!=l&&4!=l||(i+=3)}r^h?s++:(r=h,s>=5&&(i+=3+s-5),s=1),h&&n++}for(var a=0;a<e;a++)for(var s=0,r=t.modules[0][a],o=0;o<e;o++){var h=t.modules[o][a];o<e-6&&h&&!t.modules[o+1][a]&&t.modules[o+2][a]&&t.modules[o+3][a]&&t.modules[o+4][a]&&!t.modules[o+5][a]&&t.modules[o+6][a]&&(o<e-10?t.modules[o+7][a]&&t.modules[o+8][a]&&t.modules[o+9][a]&&t.modules[o+10][a]&&(i+=40):o>3&&t.modules[o-1][a]&&t.modules[o-2][a]&&t.modules[o-3][a]&&t.modules[o-4][a]&&(i+=40)),r^h?s++:(r=h,s>=5&&(i+=3+s-5),s=1)}return i+=Math.abs(100*n/e/e-50)/5*10}},m={glog:function(t){if(t<1)throw new Error("glog("+t+")");return m.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return m.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)m.EXP_TABLE[v]=1<<v;for(var v=8;v<256;v++)m.EXP_TABLE[v]=m.EXP_TABLE[v-4]^m.EXP_TABLE[v-5]^m.EXP_TABLE[v-6]^m.EXP_TABLE[v-8];for(var v=0;v<255;v++)m.LOG_TABLE[m.EXP_TABLE[v]]=v;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=m.gexp(m.glog(this.get(i))+m.glog(t.get(n)));return new r(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(e-i<0)return this;for(var n=new Array(e),o=0;o<e;o++)n[o]=this.get(o);for(;n.length>=i;){for(var s=m.glog(n[0])-m.glog(t.get(0)),o=0;o<t.getLength();o++)n[o]^=m.gexp(m.glog(t.get(o))+s);for(;0==n[0];)n.shift()}return new r(n,0)}},g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=g[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,n=0,o=0;o<i;o++){var s=e[3*o+0];n+=e[3*o+2]*s}var r=t>9?2:1;if(this.utf8bytes.length+r<n||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=n;break}}},a.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;i<e;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}}),define("ui.share",function(t,e,i){"use strict";t("core"),t("ui.modal");var n=t("util.qrcode"),o=window.Zepto,s=o.AMUI,r=document,a=o(r),h=function(t){this.options=o.extend({},h.DEFAULTS,t||{}),this.$element=null,this.$wechatQr=null,this.pics=null,this.inited=!1,this.active=!1};h.DEFAULTS={sns:["weibo","qq","qzone","tqq","wechat","renren"],title:"分享到",cancel:"取消",closeOnShare:!0,id:s.utils.generateGUID("am-share"),desc:"Hi，孤夜观天象，发现一个不错的西西，分享一下下 ;-)",via:"Amaze UI",tpl:'<div class="am-share am-modal-actions" id="<%= id %>"><h3 class="am-share-title"><%= title %></h3><ul class="am-share-sns sm-block-grid-3"><% for(var i = 0; i < sns.length; i++) {%><li><a href="<%= sns[i].shareUrl %>" data-am-share-to="<%= sns[i].id %>" ><i class="am-icon-<%= sns[i].icon %>"></i><span><%= sns[i].title %></span></a></li><% } %></ul><div class="am-share-footer"><button class="am-btn am-btn-default am-btn-block" data-am-share-close><%= cancel %></button></div></div>'},h.SNS={weibo:{title:"新浪微博",url:"http://service.weibo.com/share/share.php",width:620,height:450,icon:"weibo"},qq:{title:"QQ 好友",url:"http://connect.qq.com/widget/shareqq/index.html",icon:"qq"},qzone:{title:"QQ 空间",url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",icon:"star"},tqq:{title:"腾讯微博",url:"http://v.t.qq.com/share/share.php",icon:"tencent-weibo"},wechat:{title:"微信",url:"[qrcode]",icon:"wechat"},renren:{title:"人人网",url:"http://widget.renren.com/dialog/share",icon:"renren"},douban:{title:"豆瓣",url:"http://www.douban.com/recommend/",icon:"share-alt"},mail:{title:"邮件分享",url:"mailto:",icon:"envelope-o"},sms:{title:"短信分享",url:"sms:",icon:"comment"}},h.prototype.render=function(){var t=this.options,e=[],i=encodeURIComponent(r.title),n=encodeURIComponent(r.location),a="?body="+i+n;return t.sns.forEach(function(o,s){if(h.SNS[o]){var r,l=h.SNS[o];l.id=o,r="mail"===o?a+"&subject="+t.desc:"sms"===o?a:"?url="+n+"&title="+i,l.shareUrl=l.url+r,e.push(l)}}),s.template(t.tpl,o.extend({},t,{sns:e}))},h.prototype.init=function(){if(!this.inited){var t=this,e="[data-am-share-to]";a.ready(o.proxy(function(){o("body").append(this.render()),this.$element=o("#"+this.options.id),this.$element.find("[data-am-share-close]").on("click.share.amui",function(){t.close()})},this)),a.on("click.share.amui",e,o.proxy(function(t){var i=o(t.target),n=i.is(e)&&i||i.parent(e),s=n.attr("data-am-share-to");"mail"!==s&&"sms"!==s&&(t.preventDefault(),this.shareTo(s,this.setData(s))),this.close()},this)),this.inited=!0}},h.prototype.open=function(){!this.inited&&this.init(),this.$element&&this.$element.modal("open"),this.$element.trigger("open:share:amui"),this.active=!0},h.prototype.close=function(){this.$element&&this.$element.modal("close"),this.$element.trigger("close:share:amui"),this.active=!1},h.prototype.toggle=function(){this.active?this.close():this.open()},h.prototype.setData=function(t){if(t){var e={url:r.location,title:r.title},i=this.options.desc,n=this.pics||[];if(/^(qzone|qq|tqq)$/.test(t)&&!n.length){for(var o=r.images,s=0;s<o.length&&s<10;s++)!!o[s].src&&n.push(encodeURIComponent(o[s].src));this.pics=n}switch(t){case"qzone":e.desc=i,e.site=this.options.via,e.pics=n.join("|");break;case"qq":e.desc=i,e.site=this.options.via,e.pics=n[0];break;case"tqq":e.pic=n.join("|")}return e}},h.prototype.shareTo=function(t,e){var i=h.SNS[t];if(i){if("wechat"===t||"weixin"===t)return this.wechatQr();var n=[];for(var o in e)e[o]&&n.push(o.toString()+"="+("pic"===o||"pics"===o?e[o]:encodeURIComponent(e[o])));window.open(i.url+"?"+n.join("&"))}},h.prototype.wechatQr=function(){if(!this.$wechatQr){var t=s.utils.generateGUID("am-share-wechat"),e=o('<div class="am-modal am-modal-no-btn am-share-wechat-qr"><div class="am-modal-dialog"><div class="am-modal-hd">分享到微信 <a href="" class="am-close am-close-spin" data-am-modal-close>&times;</a> </div><div class="am-modal-bd"><div class="am-share-wx-qr"></div><div class="am-share-wechat-tip">打开微信，点击底部的<em>发现</em>，<br/> 使用<em>扫一扫</em>将网页分享至朋友圈</div></div></div></div>',{id:t}),i=new n({render:"canvas",correctLevel:0,text:r.location.href,width:180,height:180,background:"#fff",foreground:"#000"});e.find(".am-share-wx-qr").html(i),e.appendTo(o("body")),this.$wechatQr=o("#"+t)}this.$wechatQr.modal("open")};var l=new h;a.on("click.share.amui",'[data-am-toggle="share"]',function(t){t.preventDefault(),l.toggle()}),s.share=l,i.exports=l}),define("zepto.extend.fx",function(t,e,i){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function o(t){return s?s+t:t.toLowerCase()}var s,r,a,h,l,c,u,d,p,f,m=window.Zepto,v="",g={Webkit:"webkit",Moz:"",O:"o"},w=window.document,y=w.createElement("div"),T=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,b={};m.each(g,function(t,e){if(void 0!==y.style[t+"TransitionProperty"])return v="-"+t.toLowerCase()+"-",s=e,!1}),r=v+"transform",b[a=v+"transition-property"]=b[h=v+"transition-duration"]=b[c=v+"transition-delay"]=b[l=v+"transition-timing-function"]=b[u=v+"animation-name"]=b[d=v+"animation-duration"]=b[f=v+"animation-delay"]=b[p=v+"animation-timing-function"]="",m.fx={off:void 0===s&&void 0===y.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:v,transitionEnd:o("TransitionEnd"),animationEnd:o("AnimationEnd")},m.fn.animate=function(t,e,i,n,o){return m.isFunction(e)&&(n=e,i=void 0,e=void 0),m.isFunction(i)&&(n=i,i=void 0),m.isPlainObject(e)&&(i=e.easing,n=e.complete,o=e.delay,e=e.duration),e&&(e=("number"==typeof e?e:m.fx.speeds[e]||m.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,e,i,n,o)},m.fn.anim=function(t,e,i,o,s){var v,g,w,y={},E="",x=this,C=m.fx.transitionEnd,S=!1;if(void 0===e&&(e=m.fx.speeds._default/1e3),void 0===s&&(s=0),m.fx.off&&(e=0),"string"==typeof t)y[u]=t,y[d]=e+"s",y[f]=s+"s",y[p]=i||"linear",C=m.fx.animationEnd;else{g=[];for(v in t)T.test(v)?E+=v+"("+t[v]+") ":(y[v]=t[v],g.push(n(v)));E&&(y[r]=E,g.push(r)),e>0&&"object"==typeof t&&(y[a]=g.join(", "),y[h]=e+"s",y[c]=s+"s",y[l]=i||"linear")}return w=function(t){if(void 0!==t){if(t.target!==t.currentTarget)return;m(t.target).unbind(C,w)}else m(this).unbind(C,w);S=!0,m(this).css(b),o&&o.call(this)},e>0&&(this.bind(C,w),setTimeout(function(){S||w.call(x)},1e3*e+25)),this.size()&&this.get(0).clientLeft,this.css(y),e<=0&&setTimeout(function(){x.each(function(){w.call(this)})},0),this},y=null}),define("zepto.extend.data",function(t,e,i){function n(t,e){var i=t[c],n=i&&a[i];if(void 0===e)return n||o(t);if(n){if(e in n)return n[e];var s=l(e);if(s in n)return n[s]}return h.call(r(t),e)}function o(t,e,i){var n=t[c]||(t[c]=++r.uuid),o=a[n]||(a[n]=s(t));return void 0!==e&&(o[l(e)]=i),o}function s(t){var e={};return r.each(t.attributes||u,function(t,i){0==i.name.indexOf("data-")&&(e[l(i.name.replace("data-",""))]=r.zepto.deserializeValue(i.value))}),e}var r=window.Zepto,a={},h=r.fn.data,l=r.camelCase,c=r.expando="Zepto"+ +new Date,u=[];r.fn.data=function(t,e){return void 0===e?r.isPlainObject(t)?this.each(function(e,i){r.each(t,function(t,e){o(i,t,e)})}):0 in this?n(this[0],t):void 0:this.each(function(){o(this,t,e)})},r.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var e=this[c],i=e&&a[e];i&&r.each(t||i,function(e){delete i[t?l(this):e]})})},["remove","empty"].forEach(function(t){var e=r.fn[t];r.fn[t]=function(){var i=this.find("*");return"remove"===t&&(i=i.add(this)),i.removeData(),e.call(this)}})}),define("zepto.extend.selector",function(t,e,i){function n(t){return t=s(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}function o(t,e){t=t.replace(/=#\]/g,'="#"]');var i,n,o=c.exec(t);if(o&&o[2]in l&&(i=l[o[2]],n=o[3],t=o[1],n)){
var s=Number(n);n=isNaN(s)?n.replace(/^["']|["']$/g,""):s}return e(t,i,n)}var s=window.Zepto,r=s.zepto,a=r.qsa,h=r.matches,l=s.expr[":"]={visible:function(){if(n(this))return this},hidden:function(){if(!n(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,i){if(t===i)return this},contains:function(t,e,i){if(s(this).text().indexOf(i)>-1)return this},has:function(t,e,i){if(r.qsa(this,i).length)return this}},c=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),u=/^\s*>/,d="Zepto"+ +new Date;r.qsa=function(t,e){return o(e,function(i,n,o){try{var h;!i&&n?i="*":u.test(i)&&(h=s(t).addClass(d),i="."+d+" "+i);var l=a(t,i)}catch(t){throw console.error("error performing selector: %o",e),t}finally{h&&h.removeClass(d)}return n?r.uniq(s.map(l,function(t,e){return n.call(t,e,l,o)})):l})},r.matches=function(t,e){return o(e,function(e,i,n){return(!e||h(t,e))&&(!i||i.call(t,null,n)===t)})}}),define("zepto.pinchzoom",function(t,e,i){"use strict";i.exports=function(t){var e=function(e,i){this.el=t(e),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=t.extend({},this.defaults,i),this.setupMarkup(),this.bindEvents(),this.update(),this.enable()},i=function(t,e){return t+e},n=function(t,e){return t>e-.01&&t<e+.01};e.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:5,minZoom:.5,lockDragAxis:!1,use2d:!1,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(t){this.el.trigger(this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){if(this.zoomFactor>1){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName),this.end()},handleZoomStart:function(t){this.el.trigger(this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var i=this.getTouchCenter(this.getTouches(t)),n=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(n,i),this.drag(i,this.lastZoomCenter)),this.lastZoomCenter=i},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName),this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],i=this.zoomFactor>1?1:this.options.tapZoomFactor,n=this.zoomFactor,o=function(t){this.scaleTo(n+t*(i-n),e)}.bind(this);this.hasInteraction||(n>i&&(e=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,this.options.animationInterval,o,this.swing),this.el.trigger(this.options.doubleTapEventName))},sanitizeOffset:function(t){var e=(this.zoomFactor-1)*this.getContainerX(),i=(this.zoomFactor-1)*this.getContainerY(),n=Math.max(e,0),o=Math.max(i,0),s=Math.min(e,0),r=Math.min(i,0);return{x:Math.min(Math.max(t.x,s),n),y:Math.min(Math.max(t.y,r),o)}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)})},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},drag:function(t,e){e&&(this.options.lockDragAxis?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?this.addOffset({x:-(t.x-e.x),y:0}):this.addOffset({y:-(t.y-e.y),x:0}):this.addOffset({y:-(t.y-e.y),x:-(t.x-e.x)}))},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map(function(t){return t.x}).reduce(i)/t.length,y:t.map(function(t){return t.y}).reduce(i)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},i=function(i){this.offset.x=e.x+i*(t.x-e.x),this.offset.y=e.y+i*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,i,this.swing)},zoomOutAnimation:function(){var t=this.zoomFactor,e=this.getCurrentZoomCenter(),i=function(i){this.scaleTo(t+i*(1-t),e)}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,i,this.swing)},updateAspectRatio:function(){this.setContainerY()},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function(){var t=this.container[0].offsetWidth*this.zoomFactor,e=this.offset.x,i=t-e-this.container[0].offsetWidth,n=e/i,o=n*this.container[0].offsetWidth/(n+1),s=this.container[0].offsetHeight*this.zoomFactor,r=this.offset.y,a=s-r-this.container[0].offsetHeight,h=r/a,l=h*this.container[0].offsetHeight/(h+1);return 0===i&&(o=this.container[0].offsetWidth),0===a&&(l=this.container[0].offsetHeight),{x:o,y:l}},canDrag:function(){return!n(this.zoomFactor,1)},getTouches:function(t){var e=this.container.offset();return Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e.left,y:t.pageY-e.top}})},animate:function(t,e,i,n,o){var s=(new Date).getTime(),r=function(){if(this.inAnimation){var a=(new Date).getTime()-s,h=a/t;a>=t?(i(1),o&&o(),this.update(),this.stopAnimation(),this.update()):(n&&(h=n(h)),i(h),this.update(),setTimeout(r,e))}}.bind(this);this.inAnimation=!0,r()},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return window.innerWidth},getContainerY:function(){return window.innerHeight},setContainerY:function(t){var e=window.innerHeight;return this.el.css({height:e}),this.container.height(e)},setupMarkup:function(){this.container=t('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){o(this.container.get(0),this),t(window).on("resize",this.update.bind(this)),t(this.el).find("img").on("load",this.update.bind(this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var t=this.getInitialZoomFactor()*this.zoomFactor,e=-this.offset.x/t,i=-this.offset.y/t,n="scale3d("+t+", "+t+",1) translate3d("+e+"px,"+i+"px,0px)",o="scale("+t+", "+t+") translate("+e+"px,"+i+"px)",s=function(){this.clone&&(this.clone.remove(),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,s(),this.el.css({"-webkit-transform":n,"-o-transform":o,"-ms-transform":o,"-moz-transform":o,transform:n})):(this.is3d&&(this.clone=this.el.clone(),this.clone.css("pointer-events","none"),this.clone.appendTo(this.container),setTimeout(s,200)),this.el.css({"-webkit-transform":o,"-o-transform":o,"-ms-transform":o,"-moz-transform":o,transform:o}),this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var o=function(t,e){var i=null,n=0,o=null,s=null,r=function(t,n){if(i!==t){if(i&&!t)switch(i){case"zoom":e.handleZoomEnd(n);break;case"drag":e.handleDragEnd(n)}switch(t){case"zoom":e.handleZoomStart(n);break;case"drag":e.handleDragStart(n)}}i=t},a=function(t){2===n?r("zoom"):1===n&&e.canDrag()?r("drag",t):r(null,t)},h=function(t){return Array.prototype.slice.call(t).map(function(t){return{x:t.pageX,y:t.pageY}})},l=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,Math.sqrt(i*i+n*n)},c=function(t,e){var i=l(t[0],t[1]);return l(e[0],e[1])/i},u=function(t){t.stopPropagation(),t.preventDefault()},d=function(t){var s=(new Date).getTime();if(n>1&&(o=null),s-o<300)switch(u(t),e.handleDoubleTap(t),i){case"zoom":e.handleZoomEnd(t);break;case"drag":e.handleDragEnd(t)}1===n&&(o=s)},p=!0;t.addEventListener("touchstart",function(t){e.enabled&&(p=!0,n=t.touches.length,d(t))}),t.addEventListener("touchmove",function(t){if(e.enabled){if(p)a(t),i&&u(t),s=h(t.touches);else{switch(i){case"zoom":e.handleZoom(t,c(s,h(t.touches)));break;case"drag":e.handleDrag(t)}i&&(u(t),e.update())}p=!1}}),t.addEventListener("touchend",function(t){e.enabled&&(n=t.touches.length,a(t))})};return e}(window.Zepto)}),define("util.hammer",function(t,e,i){"use strict";function n(t,e,i){return setTimeout(l(t,i),e)}function o(t,e,i){return!!Array.isArray(t)&&(s(t,i[e],i),!0)}function s(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function r(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t}function a(t,e){return r(t,e,!0)}function h(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&r(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ct?t.apply(e?e[0]||void 0:void 0,e):t}function u(t,e){return void 0===t?e:t}function d(t,e,i){s(v(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){s(v(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function g(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function y(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];g(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function T(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<ht.length;){if(i=ht[s],(n=i?i+o:e)in t)return n;s++}}function b(){return ft++}function E(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function x(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function C(t){var e=t.options.inputClass;return new(e?e:gt?q:wt?B:vt?X:R)(t,S)}function S(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=e&Tt&&n-o==0,r=e&(Et|xt)&&n-o==0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,A(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function A(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=D(e)),o>1&&!i.firstMultiple?i.firstMultiple=D(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,h=e.center=L(n);e.timeStamp=pt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=I(a,h),e.distance=N(a,h),k(i,e),e.offsetDirection=_(e.deltaX,e.deltaY),e.scale=r?O(r.pointers,n):1,e.rotation=r?z(r.pointers,n):0,P(i,e);var l=t.element;f(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function k(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Tt&&s.eventType!==Et||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function P(t,e){var i,n,o,s,r=t.lastInterval||e,a=e.timeStamp-r.timeStamp;if(e.eventType!=xt&&(a>yt||void 0===r.velocity)){var h=r.deltaX-e.deltaX,l=r.deltaY-e.deltaY,c=M(a,h,l);n=c.x,o=c.y,i=dt(c.x)>dt(c.y)?c.x:c.y,s=_(h,l),t.lastInterval=e}else i=r.velocity,n=r.velocityX,o=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=s}function D(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ut(t.pointers[i].clientX),clientY:ut(t.pointers[i].clientY)},i++;return{timeStamp:pt(),pointers:e,center:L(e),deltaX:t.deltaX,deltaY:t.deltaY}}function L(t){var e=t.length;if(1===e)return{x:ut(t[0].clientX),y:ut(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:ut(i/e),y:ut(n/e)}}function M(t,e,i){return{x:e/t||0,y:i/t||0}}function _(t,e){return t===e?Ct:dt(t)>=dt(e)?t>0?St:At:e>0?kt:Pt}function N(t,e,i){i||(i=_t);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function I(t,e,i){i||(i=_t);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function z(t,e){return I(e[1],e[0],Nt)-I(t[1],t[0],Nt)}function O(t,e){return N(e[0],e[1],Nt)/N(t[0],t[1],Nt)}function R(){this.evEl=zt,this.evWin=Ot,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function q(){this.evEl=Bt,this.evWin=$t,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Ft,this.targetIds={},x.apply(this,arguments)}function $(t,e){var i=w(t.touches),n=this.targetIds;if(e&(Tt|bt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s=w(t.targetTouches),r=w(t.changedTouches),a=[];if(e===Tt)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<r.length;)n[r[o].identifier]&&a.push(r[o]),e&(Et|xt)&&delete n[r[o].identifier],o++;return a.length?[y(s.concat(a),"identifier",!0),a]:void 0}function X(){x.apply(this,arguments);var t=l(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new R(this.manager,t)}function F(t,e){this.manager=t,this.set(e)}function H(t){if(m(t,Zt))return Zt;var e=m(t,Gt),i=m(t,jt);return e&&i?Gt+" "+jt:e||i?e?Gt:jt:m(t,Wt)?Wt:Ut}function Y(t){this.id=b(),this.manager=null,this.options=a(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=Vt,this.simultaneous={},this.requireFail=[]}function U(t){return t&ee?"cancel":t&Jt?"end":t&Kt?"move":t&Qt?"start":""}function W(t){return t==Pt?"down":t==kt?"up":t==St?"left":t==At?"right":""}function Z(t,e){var i=e.manager;return i?i.get(t):t}function G(){Y.apply(this,arguments)}function j(){G.apply(this,arguments),this.pX=null,this.pY=null}function V(){G.apply(this,arguments)}function Q(){Y.apply(this,arguments),this._timer=null,this._input=null}function K(){G.apply(this,arguments)}function J(){G.apply(this,arguments)}function tt(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(t,e){return e=e||{},e.recognizers=u(e.recognizers,et.defaults.preset),new it(t,e)}function it(t,e){e=e||{},this.options=a(e,et.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=C(this),this.touchAction=new F(this,this.options.touchAction),nt(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function nt(t,e){var i=t.element;s(t.options.cssProps,function(t,n){i.style[T(i.style,n)]=e?t:""})}function ot(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}function st(t,e){var i=rt(t);i.data("hammer")||i.data("hammer",new et(i[0],e))}t("core");var rt=window.Zepto,at=rt.AMUI,ht=["","webkit","moz","MS","ms","o"],lt=document.createElement("div"),ct="function",ut=Math.round,dt=Math.abs,pt=Date.now,ft=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,vt="ontouchstart"in window,gt=void 0!==T(window,"PointerEvent"),wt=vt&&mt.test(navigator.userAgent),yt=25,Tt=1,bt=2,Et=4,xt=8,Ct=1,St=2,At=4,kt=8,Pt=16,Dt=St|At,Lt=kt|Pt,Mt=Dt|Lt,_t=["x","y"],Nt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(E(this.element),this.evWin,this.domHandler)}};var It={mousedown:Tt,mousemove:bt,mouseup:Et},zt="mousedown",Ot="mousemove mouseup";h(R,x,{handler:function(t){var e=It[t.type];e&Tt&&0===t.button&&(this.pressed=!0),e&bt&&1!==t.which&&(e=Et),this.pressed&&this.allow&&(e&Et&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Rt={pointerdown:Tt,pointermove:bt,pointerup:Et,pointercancel:xt,pointerout:xt},qt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Bt="pointerdown",$t="pointermove pointerup pointercancel";window.MSPointerEvent&&(Bt="MSPointerDown",$t="MSPointerMove MSPointerUp MSPointerCancel"),h(q,x,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Rt[n],s=qt[t.pointerType]||t.pointerType,r="touch"==s;o&Tt&&(0===t.button||r)?e.push(t):o&(Et|xt)&&(i=!0);var a=g(e,t.pointerId,"pointerId");a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Xt={touchstart:Tt,touchmove:bt,touchend:Et,touchcancel:xt},Ft="touchstart touchmove touchend touchcancel";h(B,x,{handler:function(t){var e=Xt[t.type],i=$.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),h(X,x,{handler:function(t,e,i){var n="touch"==i.pointerType,o="mouse"==i.pointerType;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(Et|xt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=T(lt.style,"touchAction"),Yt=void 0!==Ht,Ut="auto",Wt="manipulation",Zt="none",Gt="pan-x",jt="pan-y";F.prototype={set:function(t){"compute"==t&&(t=this.compute()),Yt&&(this.manager.element.style[Ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),H(t.join(" "))},preventDefaults:function(t){if(!Yt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=m(n,Zt),s=m(n,jt),r=m(n,Gt);return o||s&&i&Dt||r&&i&Lt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Vt=1,Qt=2,Kt=4,Jt=8,te=Jt,ee=16;Y.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Z(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=Z(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=Z(t,this),g(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=Z(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?U(n):""),t)}var i=this,n=this.state;n<Jt&&e(!0),e(),n>=Jt&&e(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Vt)))return!1;t++}return!0},recognize:function(t){var e=r({},t);if(!c(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(te|ee|32)&&(this.state=Vt),this.state=this.process(e),this.state&(Qt|Kt|Jt|ee)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},h(G,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Qt|Kt),o=this.attrTest(t);return n&&(i&xt||!o)?e|ee:n||o?i&Et?e|Jt:e&Qt?e|Kt:Qt:32}}),h(j,G,{defaults:{event:"pan",threshold:10,pointers:1,direction:Mt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Dt&&e.push(jt),t&Lt&&e.push(Gt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(e.direction&Dt?(o=0===s?Ct:s<0?St:At,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===r?Ct:r<0?kt:Pt,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return G.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=W(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),h(V,G,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),h(Q,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Et|xt)&&!s)this.reset();else if(t.eventType&Tt)this.reset(),this._timer=n(function(){this.state=te,this.tryEmit()},e.time,this);else if(t.eventType&Et)return te;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===te&&(t&&t.eventType&Et?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),h(K,G,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)}}),h(J,G,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Dt|Lt,pointers:1},getTouchAction:function(){return j.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Dt|Lt)?e=t.velocity:i&Dt?e=t.velocityX:i&Lt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&dt(e)>this.options.velocity&&t.eventType&Et},emit:function(t){var e=W(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(tt,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&Tt&&0===this.count)return this.failTimeout();if(o&&s&&i){if(t.eventType!=Et)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||N(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=n(function(){this.state=te,this.tryEmit()},e.interval,this),Qt):te}return 32},failTimeout:function(){return this._timer=n(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==te&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.3",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[K,{enable:!1}],[V,{enable:!1},["rotate"]],[J,{direction:Dt}],[j,{direction:Dt},["swipe"]],[tt],[tt,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};it.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&te)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(Qt|Kt|Jt)&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(g(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return s(v(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return s(v(t),function(t){e?i[t].splice(g(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&ot(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(et,{INPUT_START:Tt,INPUT_MOVE:bt,INPUT_END:Et,INPUT_CANCEL:xt,STATE_POSSIBLE:Vt,STATE_BEGAN:Qt,STATE_CHANGED:Kt,STATE_ENDED:Jt,STATE_RECOGNIZED:te,STATE_CANCELLED:ee,STATE_FAILED:32,DIRECTION_NONE:Ct,DIRECTION_LEFT:St,DIRECTION_RIGHT:At,DIRECTION_UP:kt,DIRECTION_DOWN:Pt,DIRECTION_HORIZONTAL:Dt,DIRECTION_VERTICAL:Lt,DIRECTION_ALL:Mt,Manager:it,Input:x,TouchAction:F,TouchInput:B,MouseInput:R,PointerEventInput:q,TouchMouseInput:X,Recognizer:Y,AttrRecognizer:G,Tap:tt,Pan:j,Swipe:J,Pinch:V,Rotate:K,Press:Q,on:d,off:p,each:s,merge:a,extend:r,inherit:h,bindFn:l,prefixed:T}),at.hammer=et,i.exports=et,et.Manager.prototype.emit=function(t){return function(e,i){t.call(this,e,i),rt(this.element).trigger({type:e,gesture:i})}}(et.Manager.prototype.emit),rt.fn.hammer=function(t){return this.each(function(){st(this,t)})}}),define("ui.dimmer",function(t,e,i){"use strict";t("core");var n=window.Zepto,o=n.AMUI,s=n(document),r=o.support.transition,a=function(){this.id=o.utils.generateGUID("am-dimmer"),this.$element=n(a.DEFAULTS.tpl,{id:this.id}),this.inited=!1,this.scrollbarWidth=0,this.used=n([])};a.DEFAULTS={tpl:'<div class="am-dimmer" data-am-dimmer></div>'},a.prototype.init=function(){return this.inited||(n(document.body).append(this.$element),this.inited=!0,s.trigger("init:dimmer:amui")),this},a.prototype.open=function(t){this.inited||this.init();var e=this.$element;return t&&(this.used=this.used.add(n(t))),this.checkScrollbar().setScrollbar(),e.show().trigger("open:dimmer:amui"),setTimeout(function(){e.addClass("am-active")},0),this},a.prototype.close=function(t,e){function i(){this.resetScrollbar(),o.hide()}if(this.used=this.used.not(n(t)),!e&&this.used.length)return this;var o=this.$element;return o.removeClass("am-active").trigger("close:dimmer:amui"),r?o.one(r.end,n.proxy(i,this)).emulateTransitionEnd(150):i.call(this),this},a.prototype.checkScrollbar=function(){return this.scrollbarWidth=o.utils.measureScrollbar(),this},a.prototype.setScrollbar=function(){var t=n(document.body),e=parseInt(t.css("padding-right")||0,10);return this.scrollbarWidth&&t.css("padding-right",e+this.scrollbarWidth),t.addClass("am-dimmer-active"),this},a.prototype.resetScrollbar=function(){return n(document.body).css("padding-right","").removeClass("am-dimmer-active"),this};var h=new a;o.dimmer=h,i.exports=h});